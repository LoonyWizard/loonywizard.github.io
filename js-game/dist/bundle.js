!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(2),a={width:900,height:800},u={textureUrl:"images/player.png",position:{x:150,y:a.height-80},walkingArea:{x:{from:0,to:a.width},y:{from:a.height-200,to:a.height}},size:{x:46,y:80},maxSpeed:.65,radius:25},c=(i={canvas:a,player:u},r(i,o.ENEMY_TYPES.CHICKEN,{textureUrl:"images/white_chicken_texture.png",size:{x:50,y:61},spritesCount:2,spriteChangeTime:250,speed:.05,maxSpeed:.25,health:1}),r(i,o.ENEMY_TYPES.GRAY_CHICKEN,{textureUrl:"images/gray_chicken_texture.png",size:{x:50,y:61},spritesCount:2,spriteChangeTime:200,speed:.15,maxSpeed:.45,health:1}),r(i,o.THING_TYPES.AMMUNITION,{size:{x:60,y:57},speed:.45,textureUrl:"images/shotgun.png"}),r(i,o.THING_TYPES.COIN,{textureUrl:"images/coin.png",size:{x:55,y:45},spritesCount:6,spriteChangeTime:100,speed:.45}),r(i,"aim",{textureUrl:"images/aim.png",size:{x:36,y:36}}),r(i,"bullet",{speed:5,radius:10}),i);t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.START_GAME="START_GAME",i=t.STOP_GAME="STOP_GAME",o=t.ALL_TEXTURES_WERE_LOADED="ALL_TEXTURES_WERE_LOADED";t.startGame=function(){return{type:r}},t.stopGame=function(e){return{type:i,payload:{score:e}}},t.allTexturesWereLoaded=function(){return{type:o}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ENEMY_TYPES=t.THING_TYPES=void 0;var i=n(35),o=r(i),a=n(36),u=r(a);t.THING_TYPES=o.default,t.ENEMY_TYPES=u.default},function(e,t,n){"use strict";function r(e,t,n){function o(){g===h&&(g=h.slice())}function c(){return p}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return o(),g.push(e),function(){if(t){t=!1,o();var n=g.indexOf(e);g.splice(n,1)}}}function f(e){if(!Object(i.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,p=v(p,e)}finally{m=!1}for(var t=h=g,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");v=e,f({type:u.INIT})}function l(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(c())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var y;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var v=e,p=t,h=[],g=h,m=!1;return f({type:u.INIT}),y={dispatch:f,subscribe:s,getState:c,replaceReducer:d},y[a.a]=l,y}n.d(t,"a",function(){return u}),t.b=r;var i=n(4),o=n(20),a=n.n(o),u={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){if(!Object(a.a)(e)||Object(i.a)(e)!=u)return!1;var t=Object(o.a)(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==l}var i=n(12),o=n(17),a=n(19),u="[object Object]",c=Function.prototype,s=Object.prototype,f=c.toString,d=s.hasOwnProperty,l=f.call(Object);t.a=r},function(e,t,n){"use strict";var r=n(13),i=r.a.Symbol;t.a=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=r},function(e,t,n){"use strict";function r(e,t){var n=t.y-e.y,r=e.x-20,o=t.x-e.x-20,a=Math.atan2(n,-r),u=Math.atan2(n,o);return i(u,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomAngle=r;var i=(t.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.getRandomFloat=function(e,t){return Math.random()*(t-e)+e})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=m.getState();if(x.innerHTML="",e.isGameOver){var t=m.getState(),n=t.score;x.appendChild(w.render(n))}else e.isGame&&!e.wereAllTexturesLoaded?x.appendChild(O.render()):e.isGame?(M.init(P),x.appendChild(M.render()),M.startGame()):x.appendChild(b.render())}var o=n(11),a=n(27),u=r(a),c=n(28),s=r(c),f=n(29),d=r(f),l=n(51),y=r(l),v=n(52),p=r(v),h=n(53),g=r(h),m=(0,o.createStore)(g.default),x=document.getElementById("app"),b=new u.default(m),w=new s.default(m),M=new d.default(m),O=new y.default,_=new p.default(m),P=_.loadTextures();i(),m.subscribe(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(24),o=n(25),a=n(26),u=n(8);n(7);n.d(t,"createStore",function(){return r.b}),n.d(t,"combineReducers",function(){return i.a}),n.d(t,"bindActionCreators",function(){return o.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return u.a})},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?c:u:s&&s in Object(e)?Object(o.a)(e):Object(a.a)(e)}var i=n(5),o=n(15),a=n(16),u="[object Null]",c="[object Undefined]",s=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";var r=n(14),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(6))},function(e,t,n){"use strict";function r(e){var t=a.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var i=u.call(e);return r&&(t?e[c]=n:delete e[c]),i}var i=n(5),o=Object.prototype,a=o.hasOwnProperty,u=o.toString,c=i.a?i.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return o.call(e)}var i=Object.prototype,o=i.toString;t.a=r},function(e,t,n){"use strict";var r=n(18),i=Object(r.a)(Object.getPrototypeOf,Object);t.a=i},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){e.exports=n(21)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(23),a=function(e){return e&&e.__esModule?e:{default:e}}(o);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,a.default)(i);t.default=u}).call(t,n(6),n(22)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function o(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++){var a=t[o];"function"==typeof e[a]&&(n[a]=e[a])}var u=Object.keys(n),c=void 0;try{i(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var i=!1,o={},a=0;a<u.length;a++){var s=u[a],f=n[s],d=e[s],l=f(d,t);if(void 0===l){var y=r(s,t);throw new Error(y)}o[s]=l,i=i||l!==d}return i?o:e}}t.a=o;var a=n(3);n(4),n(7)},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},o=0;o<n.length;o++){var a=n[o],u=e[a];"function"==typeof u&&(i[a]=r(u,t))}return i}t.a=i},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var u=e(n,r,a),c=u.dispatch,s=[],f={getState:u.getState,dispatch:function(e){return c(e)}};return s=t.map(function(e){return e(f)}),c=i.a.apply(void 0,s)(u.dispatch),o({},u,{dispatch:c})}}}t.a=r;var i=n(8),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e){function t(){e.dispatch((0,i.startGame)())}this.render=function(){var e=document.createElement("div"),n=document.createElement("div");return e.classList.add("game-menu"),n.classList.add("button"),n.addEventListener("click",t),n.innerHTML="Play",e.appendChild(n),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1)},function(e,t,n){"use strict";function r(e){function t(){e.dispatch((0,i.startGame)())}this.render=function(e){var n=document.createElement("div");n.classList.add("game-over-menu");var r=document.createElement("div");r.innerHTML="Game over with score "+e,r.classList.add("game-over-score"),n.appendChild(r);var i=document.createElement("div");return i.addEventListener("click",t),i.innerHTML="Play again",i.classList.add("button"),n.appendChild(i),n}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(){c.makeTimeIteration();var n=c.getDeltaTime();if(f.clear(),v.update(n),h.updateThings(n),l.update(n),M.updateBullets(n),S.update(),v.drawEnemies(),h.drawThings(),M.drawBullets(),l.draw(),T.displayInfo(),S.draw(),v.hasEnemyCrossedCanvas())return void e.dispatch((0,R.stopGame)(E.getScore()));requestAnimationFrame(t)}var n=document.createElement("div"),r=(0,u.default)(),i=(0,s.default)(),a=(0,d.default)(),c=(0,y.default)(),f=void 0,l=void 0,v=void 0,h=void 0,m=void 0,b=void 0,M=void 0,_=void 0,E=void 0,T=void 0,S=void 0;this.init=function(e){n.innerHTML="",_=(0,O.default)(),E=(0,P.default)(),b=(0,w.default)({ammunitionCount:30}),f=(0,G.default)({height:L.default.canvas.height,width:L.default.canvas.width,parent:n,screenSizeController:r}),h=(0,p.default)({canvas:f,textures:e,idsManager:_}),v=(0,g.default)({canvas:f,textures:e,timeController:c,thingsManager:h,idsManager:_}),l=(0,N.default)(o({},L.default.player,{texture:e.player,canvas:f,keyboardController:i,mouseController:a,screenSizeController:r,thingsManager:h,weaponsManager:b,scoreManager:E})),M=(0,j.default)({canvas:f,idsManager:_}),m=(0,x.default)({getPlayerAngle:l.getAngle,getPlayerPosition:l.getPosition,mouseController:a,enemiesManager:v,weaponsManager:b,bulletsManager:M}),T=(0,I.default)({canvas:f,weaponsManager:b,scoreManager:E,textures:e}),S=(0,C.default)(o({},L.default.aim,{texture:e.aim,mouseController:a,canvas:f}))},this.render=function(){return n},this.startGame=function(){c.start(),t()}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n(30),u=r(a),c=n(31),s=r(c),f=n(32),d=r(f),l=n(33),y=r(l),v=n(34),p=r(v),h=n(38),g=r(h),m=n(41),x=r(m),b=n(42),w=r(b),M=n(43),O=r(M),_=n(44),P=r(_),E=n(45),j=r(E),T=n(47),I=r(T),S=n(48),C=r(S),A=n(49),G=r(A),z=n(50),N=r(z),R=n(1),k=n(0),L=r(k)},function(e,t,n){"use strict";function r(){function e(){n={x:window.innerWidth,y:window.innerHeight}}var t=[],n=void 0,r=function(){return n},i=function(e){t.push(e)};return e(),window.addEventListener("resize",function(){e(),t.forEach(function(e){return e()})}),{getScreenSize:r,subscribe:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(){var e={87:"W",65:"A",83:"S",68:"D"},t={};return window.addEventListener("keydown",function(n){t[e[n.keyCode]]=!0}),window.addEventListener("keyup",function(n){t[e[n.keyCode]]=!1}),{isKeyPressed:function(e){return!!t[e]}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(){function e(e){o.x=e.clientX,o.y=e.clientY}function t(t){e(t),a.forEach(function(e){return e()})}function n(){c=!0,u.forEach(function(e){return e()})}function r(){c=!1}var o={x:0,y:0},a=[],u=[],c=!1,s=function(e){a.push(e)},f=function(e){u.push(e)},d=function(){return i({},o)},l=function(){return c};return window.addEventListener("mousedown",n),window.addEventListener("mouseup",r),window.addEventListener("mousemove",t),{getMouseCoordinates:d,getIsMouseDown:l,subscribeForMouseMove:s,subscribeForMouseClick:f}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},function(e,t,n){"use strict";function r(){var e=void 0,t=void 0,n=void 0,r=void 0;return{start:function(){t=(new Date).getTime(),r=0},makeTimeIteration:function(){e=(new Date).getTime(),n=e-t,t=e,r+=n},getDeltaTime:function(){return n},getGameTime:function(){return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=void 0;a.forEach(function(n,r){n.getId()===e&&(t=r)}),a.splice(t,1)}var n=e.canvas,r=e.textures,i=e.idsManager,a=[];return{drawThings:function(){a.forEach(function(e){e.draw()})},updateThings:function(e){a.forEach(function(r){r.update(e),r.getPosition().y>n.getGameSize().y+2*r.getSize().y&&t(r.getId())})},addThing:function(e){var t=e.position,f=(0,c.getRandomInt)(0,10)<2,l=(0,c.getRandomAngle)(t,n.getGameSize()),y=i.getUniqueId(),v=void 0,p=void 0;f?(p=s.THING_TYPES.AMMUNITION,v={ammunitionCount:(0,c.getRandomInt)(10,20)}):(p=s.THING_TYPES.COIN,v={coinsCount:1}),a.push((0,d.default)(o({id:y,effect:v,angle:l,canvas:n,position:t,texture:r[p]},u.default[p])))},handleCollisionsWithPlayer:function(e){var n=e.getPlayerPosition,r=e.getPlayerSize,i=n(),o=r(),u=[],c=[];return a.forEach(function(e){e.hasCollisionWithRect({rectPosition:i,rectSize:o})&&(u.push(e.use()),c.push(e.getId()))}),c.forEach(function(e){t(e)}),u}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n(0),u=r(a),c=n(9),s=n(2),f=n(37),d=r(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={COIN:"coin",AMMUNITION:"ammunition"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={CHICKEN:"chicken",GRAY_CHICKEN:"grayChicken"};t.default=r},function(e,t,n){"use strict";function r(e){var t=e.id,n=e.position,r=e.size,o=e.texture,a=e.effect,u=e.canvas,c=e.angle,s=e.speed,f=e.spritesCount,d=e.spriteChangeTime,l=0,y=0,v=function(e){n.x+=Math.cos(c)*s*e,n.y+=Math.sin(c)*s*e,(y+=e)>=d&&(y=0,l=(l+1)%f)},p=function(){u.ctx.drawImage(o,r.x*l,0,r.x,r.y,n.x-r.x/2,n.y-r.y/2,r.x,r.y)};return{getId:function(){return t},use:function(){return i({},a)},draw:p,update:v,getPosition:function(){return i({},n)},getSize:function(){return i({},r)},hasCollisionWithRect:function(e){var t=e.rectPosition,i=e.rectSize;return n.x+r.x/2>=t.x-i.x/2&&n.x-r.x/2<=t.x+i.x/2&&n.y+r.y/2>=t.y-i.y/2&&n.y-r.y/2<=t.y+i.y/2}}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e,t){for(var n=0;n<m.length;n+=1){var r=m[n],i=r.getTrack(),o=r.getSpeed(),a=r.getPosition(),u=y.getGameSize();if(i===e&&(!(t<=o)&&u.y/t<=(u.y-a.y)/o))return!1}return!0}function n(e){for(var n=[],r=1;r<=10;r+=1)t(r,e)&&n.push(r);return n}function r(){return(0,c.getRandomInt)(0,20)<15?f.ENEMY_TYPES.CHICKEN:f.ENEMY_TYPES.GRAY_CHICKEN}function i(){for(var e=p.getGameTime(),t=r(),a=u.default[t].speed+e/1e6<u.default[t].maxSpeed?u.default[t].speed+e/1e6:u.default[t].maxSpeed,s=n(a);0===s.length;)t=r(),a=u.default[t].speed+e/1e6<u.default[t].maxSpeed?u.default[t].speed+e/1e6:u.default[t].maxSpeed,s=n(a);var f=s[(0,c.getRandomInt)(0,s.length-1)];m.push((0,l.default)(o({},u.default[t],{position:{x:800*f/11,y:-u.default[t].size.y},texture:v[t],id:g.getUniqueId(),track:f,speed:a})));var d=1-e/4e4>0?1-e/4e4:0;b=setTimeout(i,550+450*d)}function a(e){for(var t=0;t<m.length;t+=1)if(m[t].getId()===e)return m[t]}function d(e){for(var t=-1,n=0;n<m.length;n+=1)if(e===m[n].getId()){t=n;break}m.splice(t,1)}var y=e.canvas,v=e.textures,p=e.timeController,h=e.thingsManager,g=e.idsManager,m=[],x=!1,b=void 0;b=setTimeout(i,1e3);var w=function(e){m.forEach(function(t){t.update(e),t.getPosition().y>=y.getGameSize().y&&(x=!0,clearTimeout(b))})},M=function(){m.forEach(function(e){e.draw(y.ctx)})},O=function(e){var t=e.angle,n=e.position,r={a:{x:n.x,y:n.y},b:{x:n.x+100*Math.cos(t),y:n.y+100*Math.sin(t)}},i=[];m.forEach(function(e){for(var t=e.getPosition(),n=e.getSize(),o=[{a:{x:t.x-n.x/2,y:t.y-n.y/2},b:{x:t.x+n.x/2,y:t.y-n.y/2}},{a:{x:t.x-n.x/2,y:t.y-n.y/2},b:{x:t.x-n.x/2,y:t.y+n.y/2}},{a:{x:t.x+n.x/2,y:t.y-n.y/2},b:{x:t.x+n.x/2,y:t.y+n.y/2}},{a:{x:t.x-n.x/2,y:t.y+n.y/2},b:{x:t.x+n.x/2,y:t.y+n.y/2}}],a=0;a<o.length;a+=1){var u=(0,s.findIntersectionBetweenRayAndSegment)(r,o[a]);if(u){var c=u.x-r.a.x,f=u.y-r.a.y,d=Math.pow(Math.pow(c,2)+Math.pow(f,2),.5);i.push({distance:d,enemyId:e.getId()})}}});var o=void 0;return i.forEach(function(e){(!o||e.distance<o.distance)&&(o=e)}),o?{enemyId:o.enemyId,enemyPosition:a(o.enemyId).getPosition()}:null},_=function(e){var t=a(e);if(t&&(t.decreaseHealth(),t.getHealth()<=0)){for(var n=(0,c.getRandomInt)(1,5),r=0;r<n;r+=1)h.addThing({position:t.getPosition()});d(e)}};return{drawEnemies:M,update:w,checkCollisionsWithBullet:O,hasEnemyCrossedCanvas:function(){return x},shotToEnemy:_}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n(0),u=r(a),c=n(9),s=n(39),f=n(2),d=n(40),l=r(d)},function(e,t,n){"use strict";function r(e,t){var n=e.a.x,r=e.a.y,i=e.b.x-e.a.x,o=e.b.y-e.a.y,a=t.a.x,u=t.a.y,c=t.b.x-t.a.x,s=t.b.y-t.a.y,f=Math.pow(Math.pow(i,2)+Math.pow(o,2),.5),d=Math.pow(Math.pow(c,2)+Math.pow(s,2),.5);if(i/f==c/d&&o/f==s/d)return null;var l=(i*(u-r)+o*(n-a))/(c*o-s*i),y=(a+c*l-n)/i;return y<0?null:l<0||l>1?null:{x:n+i*y,y:r+o*y}}Object.defineProperty(t,"__esModule",{value:!0}),t.findIntersectionBetweenRayAndSegment=r},function(e,t,n){"use strict";function r(e){var t=e.position,n=e.size,r=e.speed,o=e.texture,a=e.id,u=e.track,c=e.spritesCount,s=e.spriteChangeTime,f=e.health,d=0,l=0,y=function(e){e.drawImage(o,n.x*d,0,n.x,n.y,t.x-n.x/2,t.y-n.y/2,n.x,n.y)},v=function(e){t.y+=r*e,(l+=e)>=s&&(l=0,d=(d+1)%c)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;f-=e},h=function(){return f},g=function(){return a},m=function(){return i({},t)},x=function(){return i({},n)};return{draw:y,update:v,getId:g,getTrack:function(){return u},getSpeed:function(){return r},getPosition:m,getSize:x,decreaseHealth:p,getHealth:h}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},function(e,t,n){"use strict";function r(e){function t(){if(c.hasAmmunition()){c.useAmmunition();var e=r(),t=o();[{position:i({},t),angle:e-Math.PI/50},{position:i({},t),angle:e},{position:i({},t),angle:e+Math.PI/50}].map(function(e){return s.addBullet(e)}).forEach(function(e){var t=e.getPosition(),n=e.getAngle(),r=u.checkCollisionsWithBullet({position:t,angle:n});if(null!==r){var i=r.enemyPosition,o=r.enemyId,a=t.x-i.x,c=t.y-i.y,d=Math.pow(Math.pow(a,2)+Math.pow(c,2),.5),l=d/f;setTimeout(function(){u.shotToEnemy(o),s.removeBulletById(e.getId())},l)}})}}var n=e.mouseController,r=e.getPlayerAngle,o=e.getPlayerPosition,u=e.enemiesManager,c=e.weaponsManager,s=e.bulletsManager,f=a.default.bullet.speed;n.subscribeForMouseClick(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function r(e){var t=e.ammunitionCount;return{addAmmunition:function(e){t+=e},useAmmunition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t-=e},hasAmmunition:function(){return t>0},getAmmunitionCount:function(){return t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(){var e=0;return{getUniqueId:function(){return e+=1}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(){var e=0;return{increaseScore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e+=t},getScore:function(){return e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){var t=void 0;i.forEach(function(n,r){n.getId()===e&&(t=r)}),i.splice(t,1)}var n=e.canvas,r=e.idsManager,i=[];return{drawBullets:function(){i.forEach(function(e){e.draw()})},updateBullets:function(e){i.forEach(function(r){r.update(e);var i=r.getPosition(),o=r.getRadius(),a=n.getGameSize();(i.y+o<0||i.y-o>a.y||i.x+o<0||i.x-o>a.x)&&t(r.getId())})},addBullet:function(e){var t=e.position,a=e.angle,c=r.getUniqueId(),f=(0,s.default)(o({id:c,angle:a,canvas:n,position:t},u.default.bullet));return i.push(f),f},removeBulletById:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n(0),u=r(a),c=n(46),s=r(c)},function(e,t,n){"use strict";function r(e){var t=e.id,n=e.position,r=e.radius,o=e.canvas,a=e.angle,u=e.speed,c=function(e){n.x+=Math.cos(a)*u*e,n.y+=Math.sin(a)*u*e},s=function(){var e=o.ctx;e.fillStyle="#fff",e.beginPath(),e.arc(n.x,n.y,r,0,2*Math.PI),e.stroke(),e.fill()},f=function(){return i({},n)},d=function(){return r},l=function(){return a};return{getId:function(){return t},draw:s,update:c,getPosition:f,getAngle:l,getRadius:d}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},function(e,t,n){"use strict";function r(e){var t=e.canvas,n=e.weaponsManager,r=e.scoreManager,i=e.textures;return{displayInfo:function(){var e=n.getAmmunitionCount(),a=r.getScore(),u=t.getGameSize(),c=t.ctx;c.fillStyle="#ffffff",c.font="900 38px Courier New",c.drawImage(i.coin,0,0,o.default.coin.size.x,o.default.coin.size.y,u.x-290,15,o.default.coin.size.x,o.default.coin.size.y),c.drawImage(i.ammunition,u.x-170,10,o.default.ammunition.size.x,o.default.ammunition.size.y),c.fillText(a,u.x-220,50),c.fillText(e,u.x-80,50)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function r(e){var t=e.texture,n=e.size,r=e.mouseController,i=e.canvas,o={x:0,y:0},a=i.ctx;return{update:function(){var e=r.getMouseCoordinates(),t=i.getOffset(),n=i.getGameSize(),a=i.getRealSize(),u=n.x/a.x,c=n.y/a.y;o.x=e.x*u-t.x*u,o.y=e.y*c-t.y*c},draw:function(){a.drawImage(t,o.x-n.x/2,o.y-n.y/2,n.x,n.y)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){function t(){var e=n.getScreenSize();u.width=o,u.height=r,e.x/e.y>=o/r?(u.style.height="100%",u.style.width="auto",s.x=(e.x-o*e.y/r)/2):(u.style.width="100%",u.style.height="auto",s.x=0),s.y=0}var n=e.screenSizeController,r=e.height,o=e.width,a=e.parent,u=document.createElement("canvas"),c=u.getContext("2d"),s={};return a.appendChild(u),n.subscribe(t),t(),{ctx:c,clear:function(){c.clearRect(0,0,u.width,u.height)},getOffset:function(){return i({},s)},getRealSize:function(){return{x:u.clientWidth,y:u.clientHeight}},getGameSize:function(){return{x:u.width,y:u.height}}}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},function(e,t,n){"use strict";function r(e){function t(){var e=u.getOffset(),t=u.getGameSize(),r=u.getRealSize(),i=t.x/r.x,o=t.y/r.y,c=a.getMouseCoordinates(),s=c.x*i-(e.x*i+n.x),f=c.y*o-(e.y*o+n.y);v=Math.atan2(f,s)}var n=e.position,r=e.size,o=e.keyboardController,a=e.mouseController,u=e.canvas,c=e.texture,s=e.maxSpeed,f=e.walkingArea,d=e.thingsManager,l=e.weaponsManager,y=e.scoreManager,v=0,p=function(){return v},h=function(){return i({},n)},g=function(){return i({},r)};return a.subscribeForMouseMove(t),{draw:function(){var e=u.ctx;e.save(),e.translate(n.x,n.y),e.rotate(v+Math.PI/2),e.drawImage(c,-r.x/2,-r.y/2,r.x,r.y),e.restore()},update:function(e){var i={x:0,y:0};o.isKeyPressed("A")&&(i.x-=s),o.isKeyPressed("D")&&(i.x+=s),o.isKeyPressed("W")&&(i.y-=s),o.isKeyPressed("S")&&(i.y+=s),Math.abs(i.x)===Math.abs(i.y)&&(i.x*=Math.cos(Math.PI/4),i.y*=Math.cos(Math.PI/4)),(n.x+i.x*e+r.x/2>=f.x.to||n.x+i.x*e-r.x/2<=f.x.from)&&(i.x=0),(n.y+i.y*e+r.y/2>=f.y.to||n.y+i.y*e-r.y/2<=f.y.from)&&(i.y=0),(i.x||i.y)&&t(),n.x+=i.x*e,n.y+=i.y*e,d.handleCollisionsWithPlayer({getPlayerPosition:h,getPlayerSize:g}).forEach(function(e){e.ammunitionCount&&l.addAmmunition(e.ammunitionCount),e.coinsCount&&y.increaseScore(e.coinsCount)})},getAngle:p,getPosition:h}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r},function(e,t,n){"use strict";function r(){this.render=function(){var e=document.createElement("div");return e.innerHTML="loading...",e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){function t(){(n+=1)===u&&e.dispatch((0,a.allTexturesWereLoaded)())}var n=0;this.loadTextures=function(){var e={player:new Image,chicken:new Image,grayChicken:new Image,coin:new Image,ammunition:new Image,aim:new Image};return Object.keys(e).forEach(function(n){e[n].src=o.default[n].textureUrl,e[n].onload=t}),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(1),u=6},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o.START_GAME:return i({},e,{isGame:!0,isGameOver:!1});case o.STOP_GAME:return i({},e,{isGameOver:!0,score:t.payload.score});case o.RETURN_TO_MENU:return i({},e,{isGame:!1,isGameOver:!1});case o.ALL_TEXTURES_WERE_LOADED:return i({},e,{wereAllTexturesLoaded:!0});default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(1),a={isGame:!1,isGameOver:!1,wereAllTexturesLoaded:!1,score:null}}]);