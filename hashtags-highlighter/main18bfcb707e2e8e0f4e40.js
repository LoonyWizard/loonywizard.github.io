(()=>{"use strict";function e(e){var t=e.getBoundingClientRect(),n=t.top,g=t.left;return{top:n+document.documentElement.scrollTop,left:g}}function t(e){window.getComputedStyle(e).getPropertyValue("transition")}var n={isMouseDown:!1,isDragging:!1,draggingHasStarted:!1,mouseOffsetX:null,mouseOffsetY:null,savedDividerElement:null,draggingItem:null};function g(e,t){e.nextElementSibling===t?e.parentNode&&e.parentNode.insertBefore(t,e):t.nextElementSibling===e&&e.parentNode&&e.parentNode.insertBefore(e,t)}window.onload=function(){var i,a=n,o=Array.from(document.getElementsByClassName("item"));(i=document.getElementById("list")).style.height=getComputedStyle(i).getPropertyValue("height");var r=function(n){return function(){if(n.draggingItem){var g=n.draggingItem.previousElementSibling,i=e(g);n.draggingItem.style.top="".concat(i.top+10,"px"),n.draggingItem.style.left="".concat(i.left,"px"),n.draggingItem.classList.remove("draggable"),g.classList.add("not-animated"),g.style.height="".concat(10,"px"),t(g),g.classList.remove("not-animated"),n.savedDividerElement&&(a=n.savedDividerElement,r=(o=n.draggingItem).nextElementSibling,o.parentNode&&(r?o.parentNode.insertBefore(a,r):o.parentNode.appendChild(a))),n.draggingItem=null}var a,o,r;n.isMouseDown=!1,n.isDragging=!1,n.draggingHasStarted=!1,n.mouseOffsetX=null,n.mouseOffsetY=null}}(a),s=function(t){return function(n){if(t.isDragging=t.isMouseDown,t.isDragging){n.preventDefault();var i=n instanceof TouchEvent?n.touches[0]:n;if(t.draggingItem){null!==t.mouseOffsetX&&null!==t.mouseOffsetY&&(t.draggingItem.style.top="".concat(i.pageY-t.mouseOffsetY,"px"),t.draggingItem.style.left="".concat(i.pageX-t.mouseOffsetX,"px"));var a,o=e(t.draggingItem),r=(a=t.draggingItem.previousElementSibling)?a.previousElementSibling:null,s=t.draggingItem.nextElementSibling;if(r){var d=e(r);if(o.top+t.draggingItem.offsetHeight/2<d.top+r.offsetHeight/2){var l=t.draggingItem.previousElementSibling,m=r.previousElementSibling;return l.style.height="".concat(10,"px"),g(t.draggingItem,l),g(t.draggingItem,r),void(m.style.height="".concat(t.draggingItem.offsetHeight+20,"px"))}}if(s){var u=e(s);if(o.top+t.draggingItem.offsetHeight/2>u.top+s.offsetHeight/2){var f=t.draggingItem.previousElementSibling,c=s.nextElementSibling;f.style.height="".concat(10,"px"),g(t.draggingItem,s),g(t.draggingItem,c),c.style.height="".concat(t.draggingItem.offsetHeight+20,"px")}}}}}}(a);o.forEach((function(n){var g=function(n,g){return function(i){var a=i instanceof TouchEvent?i.touches[0]:i;n.draggingItem=g,n.isMouseDown=!0,n.draggingHasStarted=!0,n.mouseOffsetX=a.pageX-e(n.draggingItem).left,n.mouseOffsetY=a.pageY-e(n.draggingItem).top,n.draggingItem.classList.add("draggable"),n.draggingItem.style.top="".concat(a.pageY-n.mouseOffsetY,"px"),n.draggingItem.style.left="".concat(a.pageX-n.mouseOffsetX,"px");var o,r=n.draggingItem.previousElementSibling;r.classList.add("not-animated"),r.style.height="".concat(20+n.draggingItem.offsetHeight,"px"),t(r),r.classList.remove("not-animated"),n.savedDividerElement=n.draggingItem.nextElementSibling,(o=n.savedDividerElement).parentNode&&o.parentNode.removeChild(o)}}(a,n);n.addEventListener("mousedown",g),n.addEventListener("touchstart",g),n.ondragstart=function(){return!1}})),document.addEventListener("mouseup",r),document.addEventListener("touchend",r),document.addEventListener("mousemove",s),document.addEventListener("touchmove",s,{passive:!1})}})();