(()=>{"use strict";function t(t){return+t.replace(/px/,"")}function i(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Math.random()*(i-t)+t;return Math.floor(n*Math.pow(10,e))/Math.pow(10,e)}var e=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function n(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function o(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?n(Object(e),!0).forEach((function(i){s(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):n(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function s(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function a(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(){return Math.log(window.innerWidth)/Math.log(1920)}var c=function(){function t(e){var n=e.initialPosition,s=e.direction,a=e.confettiRadius,c=e.confettiColors;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var h=i(.9,1.7,3)*r();this.confettiSpeed={x:h,y:h},this.finalConfettiSpeedX=i(.2,.6,3),this.rotationSpeed=i(.03,.07,3)*r(),this.dragForceCoefficient=i(5e-4,9e-4,6),this.radius={x:a,y:a},this.initialRadius=a,this.rotationAngle="left"===s?i(0,.2,3):i(-.2,0,3),this.radiusYUpdateDirection="down";var u="left"===s?i(82,15)*Math.PI/180:i(-15,-82)*Math.PI/180;this.absCos=Math.abs(Math.cos(u)),this.absSin=Math.abs(Math.sin(u));var d=i(-150,0),f={x:n.x+("left"===s?-d:d)*this.absCos,y:n.y-d*this.absSin};this.currentPosition=o({},f),this.initialPosition=o({},f),this.color=function(t){return t[i(0,t.length)]}(c),this.createdAt=(new Date).getTime(),this.direction=s}var e,n;return e=t,(n=[{key:"draw",value:function(t){var i=this.currentPosition,e=this.radius,n=this.color,o=this.rotationAngle,s=window.devicePixelRatio;t.fillStyle=n,t.beginPath(),t.ellipse(i.x*s,i.y*s,e.x*s,e.y*s,o,0,2*Math.PI),t.fill()}},{key:"updatePosition",value:function(t,i,e){var n=this.confettiSpeed,o=this.dragForceCoefficient,s=this.finalConfettiSpeedX,a=this.radiusYUpdateDirection,r=this.rotationSpeed,c=this.createdAt,h=this.direction,u=i-c;this.rotationSpeed-=1e-5*t,this.rotationSpeed<0&&(this.rotationSpeed=0),n.x>s&&(this.confettiSpeed.x-=o*t),this.currentPosition.x+=n.x*("left"===h?-this.absCos:this.absCos)*t,this.currentPosition.y=this.initialPosition.y-n.y*this.absSin*u+.00125*Math.pow(u,2)/2,"down"===a?(this.radius.y-=t*r,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=t*r,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(t){return this.currentPosition.y<t+100}}])&&a(e.prototype,n),t}();function h(t){var i=t.confettiRadius,n=void 0===i?8:i,o=t.confettiesNumber,s=void 0===o?200:o,a=t.confettiColors;return{confettiRadius:n,confettiesNumber:s,confettiColors:void 0===a?e:a}}function u(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}const d=function(){function i(){var t;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.canvas=((t=document.createElement("canvas")).style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.style.zIndex="1000",t.style.pointerEvents="none",document.body.appendChild(t),t),this.canvasContext=this.canvas.getContext("2d"),this.shapes=[],this.lastUpdated=(new Date).getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}var e,n;return e=i,(n=[{key:"loop",value:function(){var i,e,n,o,s,a=this;i=this.canvas,e=window.devicePixelRatio,o=t((n=getComputedStyle(i)).getPropertyValue("width")),s=t(n.getPropertyValue("height")),i.setAttribute("width",(o*e).toString()),i.setAttribute("height",(s*e).toString());var r=(new Date).getTime(),c=r-this.lastUpdated,h=this.canvas.offsetHeight,u=this.canvas.offsetWidth;this.shapes.forEach((function(t){t.updatePosition(c,r,u),t.draw(a.canvasContext)})),this.iterationIndex%100==0&&(this.shapes=this.shapes.filter((function(t){return t.getIsVisibleOnCanvas(h)}))),this.lastUpdated=r,this.iterationIndex++,requestAnimationFrame(this.loop)}},{key:"addConfetti",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=h(t),e=i.confettiRadius,n=i.confettiesNumber,o=i.confettiColors,s=5*window.innerHeight/7,a={x:0,y:s},r={x:window.innerWidth,y:s},u=0;u<n/2;u++)this.shapes.push(new c({initialPosition:a,direction:"right",confettiRadius:e,confettiColors:o})),this.shapes.push(new c({initialPosition:r,direction:"left",confettiRadius:e,confettiColors:o}))}}])&&u(e.prototype,n),i}();window.onload=function(){var t=new d,i=document.getElementById("button");i&&(i.addEventListener("click",(function(){t.addConfetti()})),setTimeout((function(){t.addConfetti()}),1e3))}})();